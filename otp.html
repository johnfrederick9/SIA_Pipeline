<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="CSS_JS_IMAGE/style.css" />
    <title>ACTIVITY IN SIA</title>
    <link rel="icon" href="CSS_JS_IMAGE/log.svg">
  </head>
  <body>
<section class="verification">
  <div class="vcontainer">
    <h2>Enter your E-mail Verification</h2>


    <p>
    Enter the five-digit verification code sent to your email.
    </p>
    <div class="code-container">
      <input type="number" class="code" placeholder="0" min="0" max="9" required>
      <input type="number" class="code" placeholder="0" min="0" max="9" required>
      <input type="number" class="code" placeholder="0" min="0" max="9" required>
      <input type="number" class="code" placeholder="0" min="0" max="9" required>
      <input type="number" class="code" placeholder="0" min="0" max="9" required>
    </div>
    <div>
      <button type="button" class="btn btn-primary">Verify</button>
    </div>
  </div>
</section>
<script>
  const codes = document.querySelectorAll('.code');
  codes[0].focus();

  codes.forEach((code, idx) => {
    code.addEventListener('keydown', (e) => {
      if (e.key >= 0 && e.key <= 9) {
        codes[idx].value = '';
        setTimeout(() => codes[idx + 1]?.focus(), 10);
      } else if (e.key === 'Backspace') {
        setTimeout(() => codes[idx - 1]?.focus(), 10);
      }
    });
  });

  document.querySelector(".btn-primary").addEventListener("click", () => {
    const enteredOtp = Array.from(codes).map((input) => input.value).join("");
    const storedOtp = localStorage.getItem("otp");

    if (enteredOtp === storedOtp) {
      alert("OTP verified successfully!");
      localStorage.removeItem("otp");
      window.location.href = "dashboard.html";
    } else {
      alert("Invalid OTP. Please try again.");
    }
  });
</script>
</body>
</html>